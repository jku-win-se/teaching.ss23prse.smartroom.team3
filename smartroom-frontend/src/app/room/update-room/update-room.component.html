<div class="roomTab">
  <h1>Update {{room.name}}:</h1>
  <div class="room_form">
    <div class="flex-column flex-gap">
      <h2>Room meta data</h2>
      <div class="flex-column">
        <label for="name">Room name</label>
        <input type="text" id="name" [(ngModel)]="room.name" [value]="room.name">
      </div>
      <div class="flex-column">
        <label for="name">Room size</label>
        <input type="number" id="size" [(ngModel)]="room.size"  [value]="room.size">
      </div>
    </div>

    <div>
      <h2>Doors: </h2>
      <div class="flex-column flex-gap">
        <label for="name">Add new Door</label>
        <div>
          <label>Open</label><input type="radio" [(ngModel)]="door.open" [value]="true">
        </div>
        <div>
          <label>Closed</label><input type="radio" [(ngModel)]="door.open" [value]="false">
        </div>
        <button type="button" (click)="addDoor()">Add Door</button>
      </div>

      <div *ngIf="room.doors.length > 0">
        <h3>Update Doors: </h3>
        <div *ngFor="let d of room.doors; let i = index">
          <p>Door {{i + 1}}, open: {{d.open}}</p>
          <div>
            <label>Open</label><input type="radio" [(ngModel)]="room.doors[i].open" [value]="true">
          </div>
          <div>
            <label>Closed</label><input type="radio" [(ngModel)]="room.doors[i].open" [value]="false">
          </div>
        </div>
      </div>
    </div>

    <div>
      <h2>Windows: </h2>
      <div class="flex-column flex-gap">
        <label for="name">Add new Window</label>
        <div>
          <label>Open</label><input type="radio" [(ngModel)]="window.open" [value]="true">
        </div>
        <div>
          <label>Closed</label><input type="radio" [(ngModel)]="window.open" [value]="false">
        </div>
        <button type="button" (click)="addWindow()">Add Window</button>
      </div>

      <div *ngIf="room.roomWindows.length > 0">
        <h3>Update Windows: </h3>
        <div *ngFor="let w of room.roomWindows; let i = index">
          <p>Window {{i + 1}}, open: {{w.open}}</p>
          <div>
            <label>Open</label><input type="radio" [(ngModel)]="room.roomWindows[i].open" [value]="true">
          </div>
          <div>
            <label>Closed</label><input type="radio" [(ngModel)]="room.roomWindows[i].open" [value]="false">
          </div>
        </div>
      </div>
    </div>

    <div>
      <h2>Lights: </h2>
      <div class="flex-column flex-gap">
        <label for="name">Add new Light</label>
        <div>
          <label>On</label><input type="radio" [(ngModel)]="light.on" [value]="true">
        </div>
        <div>
          <label>Off</label><input type="radio" [(ngModel)]="light.on" [value]="false">
        </div>
        <button type="button" (click)="addLight()">Add Light</button>
      </div>

      <div *ngIf="room.lights.length > 0">
        <h3>Update Lights: </h3>
        <div *ngFor="let l of room.lights; let i = index">
          <p>Light {{i + 1}}, on: {{l.on}}</p>
          <div>
            <label>On</label><input type="radio" [(ngModel)]="room.lights[i].on" [value]="true">
          </div>
          <div>
            <label>Off</label><input type="radio" [(ngModel)]="room.lights[i].on" [value]="false">
          </div>
        </div>
      </div>
    </div>

    <div>
      <h2>Fans: </h2>
      <div class="flex-column flex-gap">
        <label for="name">Add new Fan</label>
        <div>
          <label>On</label><input type="radio" [(ngModel)]="fan.on" [value]="true">
        </div>
        <div>
          <label>Off</label><input type="radio" [(ngModel)]="fan.on" [value]="false">
        </div>
        <button type="button" (click)="addFan()">Add Fan</button>
      </div>


      <div *ngIf="room.fans.length > 0">
        <h3>Update Fans: </h3>
        <div *ngFor="let f of room.fans; let i = index">
          <p>Fan {{i + 1}}, on: {{f.on}}</p>
          <div>
            <label>On</label><input type="radio" [(ngModel)]="room.fans[i].on" [value]="true">
          </div>
          <div>
            <label>Off</label><input type="radio" [(ngModel)]="room.fans[i].on" [value]="false">
          </div>
        </div>
      </div>
    </div>

    <button type="button" (click)="updateRoom()">Update Room</button>
  </div>
</div>


